(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[395],{1279:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/sdk/docs/why-turbopack",function(){return n(9993)}])},9993:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return l.ZP}});var o,r=n(6042),a=n(9396),i=n(5893),s=n(6871),d=n(6033),c=(n(8658),n(1151)),l=(n(1608),n(1005)),p={filePath:"pages/sdk/docs/why-turbopack.mdx",route:"/sdk/docs/why-turbopack",frontMatter:{title:"Why OpenBB SDK?",description:"Learn why we think Turbopack is the future of bundling for the web."},pageMap:[{kind:"Meta",data:{"*":{type:"page"},index:{display:"hidden",theme:{layout:"raw",sidebar:!1,toc:!0}},terminal:"OpenBB Terminal",sdk:"OpenBB SDK",blog:{title:"Blog",href:"https://openbb.co/blog",newWindow:!0},showcase:{title:"Showcase",href:"https://openbb.co/products/sdk",newWindow:!0},confirm:{title:"Confirm",display:"hidden"},terms:{title:"Terms of Service",display:"hidden"},privacy:{title:"Privacy Policy",display:"hidden"}}},{kind:"MdxPage",name:"blog",route:"/blog",frontMatter:{description:"The latest updates and releases from the Turbo team at Vercel.",type:"posts"}},{kind:"MdxPage",name:"confirm",route:"/confirm",frontMatter:{headeronly:!0,searchable:!1}},{kind:"MdxPage",name:"index",route:"/",frontMatter:{description:"Turbo is an incremental bundler and build system optimized for JavaScript and TypeScript, written in Rust."}},{kind:"MdxPage",name:"privacy",route:"/privacy",frontMatter:{description:"See our privacy policy and how it relates to you.",hidden:!0,headeronly:!0,container:!0,searchable:!1}},{kind:"Folder",name:"sdk",route:"/sdk",children:[{kind:"Meta",data:{index:{type:"page",display:"hidden",theme:{layout:"raw",sidebar:!1,toc:!0}},docs:{title:"Docs",display:"children"}}},{kind:"Folder",name:"docs",route:"/sdk/docs",children:[{kind:"Meta",data:{index:"Quickstart","getting-started":"Getting Started","why-turbopack":"Why OpenBB SDK?","core-concepts":"Core Concepts",roadmap:"Roadmap",features:"Features",comparisons:"Comparisons"}},{kind:"Folder",name:"comparisons",route:"/sdk/docs/comparisons",children:[{kind:"Meta",data:{"turbopack-vs-vite":"OpenBB SDK vs yfinance","turbopack-vs-webpack":"OpenBB SDK vs vnpy"}},{kind:"MdxPage",name:"turbopack-vs-vite",route:"/sdk/docs/comparisons/turbopack-vs-vite",frontMatter:{title:"Turbopack vs. Vite",description:"Compare Turbopack vs. Vite"}},{kind:"MdxPage",name:"turbopack-vs-webpack",route:"/sdk/docs/comparisons/turbopack-vs-webpack",frontMatter:{title:"Turbopack vs. Webpack",description:"Compare Turbopack vs. Webpack"}}]},{kind:"MdxPage",name:"core-concepts",route:"/sdk/docs/core-concepts",frontMatter:{title:"Core Concepts",description:"Learn about the innovative architecture that powers Turbopack's speed improvements."}},{kind:"Folder",name:"features",route:"/sdk/docs/features",children:[{kind:"Meta",data:{stocks:"Stocks"}},{kind:"MdxPage",name:"stocks",route:"/sdk/docs/features/stocks"}]},{kind:"MdxPage",name:"features",route:"/sdk/docs/features",frontMatter:{title:"Features",description:"Learn about Turbopack's supported features"}},{kind:"Folder",name:"getting-started",route:"/sdk/docs/getting-started",children:[{kind:"Meta",data:{"add-to-project":"Installation","create-new":"Import","existing-monorepo":"First commands"}},{kind:"MdxPage",name:"add-to-project",route:"/sdk/docs/getting-started/add-to-project"},{kind:"MdxPage",name:"create-new",route:"/sdk/docs/getting-started/create-new",frontMatter:{title:"Getting Started with Turborepo",description:"Create your first monorepo or add Turborepo to an existing project."}},{kind:"MdxPage",name:"existing-monorepo",route:"/sdk/docs/getting-started/existing-monorepo",frontMatter:{title:"Getting Started with Turborepo",description:"Create your first monorepo or add Turborepo to an existing project."}}]},{kind:"MdxPage",name:"index",route:"/sdk/docs",frontMatter:{title:"Turbopack Quickstart",description:"Start Building Web Applications with Turbopack"}},{kind:"MdxPage",name:"roadmap",route:"/sdk/docs/roadmap"},{kind:"MdxPage",name:"why-turbopack",route:"/sdk/docs/why-turbopack",frontMatter:{title:"Why OpenBB SDK?",description:"Learn why we think Turbopack is the future of bundling for the web."}}]},{kind:"MdxPage",name:"index",route:"/sdk",frontMatter:{overrideTitle:"Turbopack - The successor to Webpack",description:"Turbopack is an incremental bundler optimized for JavaScript and TypeScript, written in Rust."}}]},{kind:"MdxPage",name:"showcase",route:"/showcase",frontMatter:{headeronly:!0,searchable:!1,description:"Turborepo by Vercel is the one of the fastest growing build systems in the frontend ecosystem. It's trusted by thousands of developers in production including teams at Vercel, AWS, Netflix, Microsoft, Disney, and more."}},{kind:"Folder",name:"terminal",route:"/terminal",children:[{kind:"Meta",data:{index:{type:"page",display:"hidden",theme:{layout:"raw",sidebar:!1,toc:!0}},docs:{title:"Docs",display:"children"}}},{kind:"Folder",name:"docs",route:"/terminal/docs",children:[{kind:"Meta",data:{index:"Quickstart","getting-started":"Getting Started","why-turbopack":"Why OpenBB Terminal?","core-concepts":"Core Concepts",roadmap:"Roadmap",features:"Features",comparisons:"Comparisons"}},{kind:"Folder",name:"comparisons",route:"/terminal/docs/comparisons",children:[{kind:"Meta",data:{"turbopack-vs-vite":"OpenBB Terminal vs Bloomberg Terminal","turbopack-vs-webpack":"OpenBB Terminal vs Yahoo Finance","turbopack-vs-webpack2":"OpenBB Terminal vs Refinitiv"}},{kind:"MdxPage",name:"turbopack-vs-vite",route:"/terminal/docs/comparisons/turbopack-vs-vite",frontMatter:{title:"Turbopack vs. Vite",description:"Compare Turbopack vs. Vite"}},{kind:"MdxPage",name:"turbopack-vs-webpack",route:"/terminal/docs/comparisons/turbopack-vs-webpack",frontMatter:{title:"Turbopack vs. Webpack",description:"Compare Turbopack vs. Webpack"}}]},{kind:"MdxPage",name:"core-concepts",route:"/terminal/docs/core-concepts",frontMatter:{title:"Core Concepts",description:"Learn about the innovative architecture that powers Turbopack's speed improvements."}},{kind:"Folder",name:"features",route:"/terminal/docs/features",children:[{kind:"Meta",data:{stocks:"Stocks"}},{kind:"MdxPage",name:"stocks",route:"/terminal/docs/features/stocks"}]},{kind:"MdxPage",name:"features",route:"/terminal/docs/features",frontMatter:{title:"Features",description:"Learn about Turbopack's supported features"}},{kind:"Folder",name:"getting-started",route:"/terminal/docs/getting-started",children:[{kind:"Meta",data:{"add-to-project":"Installation","create-new":"Import","existing-monorepo":"First commands"}},{kind:"MdxPage",name:"add-to-project",route:"/terminal/docs/getting-started/add-to-project"},{kind:"MdxPage",name:"create-new",route:"/terminal/docs/getting-started/create-new",frontMatter:{title:"Getting Started with Turborepo",description:"Create your first monorepo or add Turborepo to an existing project."}},{kind:"MdxPage",name:"existing-monorepo",route:"/terminal/docs/getting-started/existing-monorepo",frontMatter:{title:"Getting Started with Turborepo",description:"Create your first monorepo or add Turborepo to an existing project."}}]},{kind:"MdxPage",name:"index",route:"/terminal/docs",frontMatter:{title:"Turbopack Quickstart",description:"Start Building Web Applications with Turbopack"}},{kind:"MdxPage",name:"roadmap",route:"/terminal/docs/roadmap"},{kind:"MdxPage",name:"why-turbopack",route:"/terminal/docs/why-turbopack",frontMatter:{title:"Why OpenBB SDK?",description:"Learn why we think Turbopack is the future of bundling for the web."}}]},{kind:"MdxPage",name:"index",route:"/terminal",frontMatter:{description:"Turborepo is a high-performance build system for JavaScript and TypeScript codebases."}}]},{kind:"MdxPage",name:"terms",route:"/terms",frontMatter:{description:"See our terms of our service and how they relate to you.",hidden:!0,headeronly:!0,container:!0,searchable:!1}}],headings:[{type:"heading",depth:1,children:[{type:"text",value:"Why Turbopack?",position:{start:{line:2,column:3,offset:3},end:{line:2,column:17,offset:17}}}],position:{start:{line:2,column:1,offset:1},end:{line:2,column:17,offset:17}},value:"Why Turbopack?"},{type:"heading",depth:2,children:[{type:"text",value:"Bundling vs Native ESM",position:{start:{line:10,column:4,offset:478},end:{line:10,column:26,offset:500}}}],position:{start:{line:10,column:1,offset:475},end:{line:10,column:26,offset:500}},value:"Bundling vs Native ESM"},{type:"heading",depth:2,children:[{type:"text",value:"Incremental Computation",position:{start:{line:18,column:4,offset:1367},end:{line:18,column:27,offset:1390}}}],position:{start:{line:18,column:1,offset:1364},end:{line:18,column:27,offset:1390}},value:"Incremental Computation"},{type:"heading",depth:3,children:[{type:"text",value:"Vite and esbuild",position:{start:{line:26,column:5,offset:1991},end:{line:26,column:21,offset:2007}}}],position:{start:{line:26,column:1,offset:1987},end:{line:26,column:21,offset:2007}},value:"Vite and esbuild"},{type:"heading",depth:2,children:[{type:"text",value:"Lazy bundling",position:{start:{line:38,column:4,offset:2994},end:{line:38,column:17,offset:3007}}}],position:{start:{line:38,column:1,offset:2991},end:{line:38,column:17,offset:3007}},value:"Lazy bundling"},{type:"heading",depth:2,children:[{type:"text",value:"Summary",position:{start:{line:50,column:4,offset:4255},end:{line:50,column:11,offset:4262}}}],position:{start:{line:50,column:1,offset:4252},end:{line:50,column:11,offset:4262}},value:"Summary"}],unstable_flexsearch:!0};globalThis.__nextra_internal__={pageMap:p.pageMap,route:p.route};function u(e){var t=Object.assign({h1:"h1",p:"p",h2:"h2",strong:"strong",h3:"h3",em:"em",a:"a",code:"code",ul:"ul",li:"li"},(0,c.ah)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.h1,{children:"Why Turbopack?"}),"\n",(0,i.jsx)(t.p,{children:"When we set out to create Turbopack, we wanted to solve a problem. We had been working on speed improvements for Next.js. We migrated away from several JS-based tools. Babel, gone. Terser, gone. Our next target was another JS-based tool, Webpack."}),"\n",(0,i.jsx)(t.p,{children:"Replacing it became our goal. But with what?"}),"\n",(0,i.jsx)(t.p,{children:"A new generation of native-speed bundlers were emerging, like esbuild and swc. But after assessing the bundlers on the market, we decided to build our own. Why?"}),"\n",(0,i.jsx)(t.h2,{id:"bundling-vs-native-esm",children:"Bundling vs Native ESM"}),"\n",(0,i.jsx)(t.p,{children:"Frameworks like Vite use a technique where they don\u2019t bundle application source code in development mode. Instead, they rely on the browser\u2019s native ES Modules system. This approach results in incredibly responsive updates since they only have to transform a single file."}),"\n",(0,i.jsx)(t.p,{children:"However, Vite can hit scaling issues with large applications made up of many modules. A flood of cascading network requests in the browser can lead to a relatively slow startup time. For the browser, it\u2019s faster if it can receive the code it needs in as few network requests as possible - even on a local server."}),"\n",(0,i.jsx)(t.p,{children:"That\u2019s why we decided that, like Webpack, we wanted Turbopack to bundle the code in the development server. Turbopack can do it much faster, especially for larger applications, because it is written in Rust and skips optimization work that is only necessary for production."}),"\n",(0,i.jsx)(t.h2,{id:"incremental-computation",children:"Incremental Computation"}),"\n",(0,i.jsx)(t.p,{children:"There are two ways to make a process faster: do less work or do work in parallel. We knew if we wanted to make the fastest bundler possible, we\u2019d need to pull hard on both levers."}),"\n",(0,i.jsx)(t.p,{children:"We decided to create a reusable Turbo build engine for distributed and incremental behavior. The Turbo engine works like a scheduler for function calls, allowing calls to functions to be parallelized across all available cores."}),"\n",(0,i.jsxs)(t.p,{children:["The Turbo engine also caches the result of all the functions it schedules, meaning it never needs to do the same work twice. Put simply, ",(0,i.jsx)(t.strong,{children:"it does the minimum work at maximum speed"}),"."]}),"\n",(0,i.jsx)(t.h3,{id:"vite-and-esbuild",children:"Vite and esbuild"}),"\n",(0,i.jsx)(t.p,{children:"Other tools take a different attitude to \u2018doing less work\u2019. Vite minimizes work done by using Native ESM in development mode. We decided not to take this approach for the reasons listed above."}),"\n",(0,i.jsx)(t.p,{children:"Under the hood, Vite uses esbuild for many tasks. esbuild is a bundler - a superbly fast one. It doesn\u2019t force you to use native ESM. But we decided not to adopt esbuild for a few reasons."}),"\n",(0,i.jsx)(t.p,{children:"esbuild\u2019s code is hyper-optimized for one task - bundling fast. It doesn\u2019t have HMR, which we don\u2019t want to lose from our dev server."}),"\n",(0,i.jsxs)(t.p,{children:["esbuild is an extremely fast bundler, but it doesn\u2019t do much caching. This means you ",(0,i.jsx)(t.em,{children:"will"})," end up doing the same work again and again, even if that work is at the speed of native."]}),"\n",(0,i.jsxs)(t.p,{children:["Evan Wallace refers to esbuild as a ",(0,i.jsx)(t.a,{href:"https://news.ycombinator.com/item?id=22336334",children:"proof-of-concept for the next generation of bundlers"}),". We think he\u2019s right. We feel that a Rust-powered bundler ",(0,i.jsx)(t.em,{children:"with"})," incremental computation could perform better at a larger scale than esbuild."]}),"\n",(0,i.jsx)(t.h2,{id:"lazy-bundling",children:"Lazy bundling"}),"\n",(0,i.jsxs)(t.p,{children:["Early versions of Next.js tried to bundle the ",(0,i.jsx)(t.em,{children:"entire"})," web app in development mode. We quickly realized that this \u2018eager\u2019 approach was less than optimal. Modern versions of Next.js bundle only the pages requested by the dev server. For instance, if you go to ",(0,i.jsx)(t.code,{children:"localhost:3000"}),", it\u2019ll bundle only ",(0,i.jsx)(t.code,{children:"pages/index.jsx"}),", and the modules it imports."]}),"\n",(0,i.jsx)(t.p,{children:"This more \u2018lazy\u2019 approach (only bundling assets when absolutely necessary) is key for a fast dev server. Native ESM handles this without much magic - you request a module, which requests other modules. However, we wanted to build a bundler, for the reasons explained above."}),"\n",(0,i.jsx)(t.p,{children:"esbuild doesn\u2019t have a concept of \u2018lazy\u2019 bundling - it\u2019s all-or-nothing, unless you specifically target only certain entry points."}),"\n",(0,i.jsxs)(t.p,{children:["Turbopack\u2019s development mode builds a minimal graph of your app\u2019s imports and exports based on received requests and only bundles the minimal code necessary. Learn more in the ",(0,i.jsx)(t.a,{href:"/repo/docs/core-concepts/caching",children:"core concepts docs"}),"."]}),"\n",(0,i.jsx)(t.p,{children:"This strategy makes Turbopack extremely fast when first starting up the dev server. We compute only the code necessary to render the page, then ship it to the browser in a single chunk. At large scale, this ends up being significantly faster than Native ESM."}),"\n",(0,i.jsx)(t.h2,{id:"summary",children:"Summary"}),"\n",(0,i.jsx)(t.p,{children:"We wanted to:"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:"Build a bundler. Bundlers outperform Native ESM when working on large applications."}),"\n",(0,i.jsx)(t.li,{children:"Use incremental computation. The Turbo engine brings this into the core of Turbopack\u2019s architecture - maximizing speed and minimizing work done."}),"\n",(0,i.jsx)(t.li,{children:"Optimize our dev server\u2019s startup time. For that, we build a lazy asset graph to compute only the assets requested."}),"\n"]}),"\n",(0,i.jsx)(t.p,{children:"That\u2019s why we chose to build Turbopack."})]})}function h(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.assign({},(0,c.ah)(),e.components),n=t.wrapper;return n?(0,i.jsx)(n,(0,a.Z)((0,r.Z)({},e),{children:(0,i.jsx)(u,(0,r.Z)({},e))})):u(e)}p.title="Why OpenBB SDK?";(o=globalThis).__nextra_pageContext__||(o.__nextra_pageContext__=Object.create(null)),globalThis.__nextra_pageContext__["/sdk/docs/why-turbopack"]={Content:function(e){return(0,i.jsx)(s.mK.Provider,{value:e,children:(0,i.jsx)(h,{})})},pageOpts:p,themeConfig:d.Z}}},function(e){e.O(0,[664,164,33,774,888,179],(function(){return t=1279,e(e.s=t);var t}));var t=e.O();_N_E=t}]);